/*!
 * FilePondPluginSelectImageButton 0.0.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FilePondPluginSelectImageButton=t()}(this,function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,i=e.views,l=n.Type,o=n.createRoute,c=i.fileActionButton;return t("CREATE_VIEW",function(e){var t=e.is,n=e.view,i=e.query,l=i("GET_ALLOW_IMAGE_PREVIEW"),a=i("GET_ALLOW_IMAGE_SELECT"),r=i("GET_SELECT_CALLBACK");if(a&&(t("file-info")&&!l||t("file")&&l)){n.registerDestroyer(function(e){var t=e.root;t.ref.buttonSelectItem&&t.ref.buttonSelectItem.off("click",t.ref.handleSelect),t.ref.selectButton&&t.ref.selectButton.removeEventListener("click",t.ref.handleSelect)});var f={DID_LOAD_ITEM:function(e){var t=e.root,o=e.props.id,a=i("GET_ITEM",o);if(a){var f=a.file;if(function(e){return/^image/.test(e.type)}(f)){t.ref.handleSelect=function(e){e.stopPropagation(),r(f)};var d=i("GET_SELECT_IMAGE_BUTTON_ICON"),s=i("GET_SELECT_IMAGE_BUTTON_POSITION");if(l){var u=n.createChildView(c,{label:"select",icon:d,opacity:0});u.element.classList.add("filepond--action-select-item"),u.element.dataset.align=s,u.element.title=i("GET_SELECT_IMAGE_BUTTON_TITLE"),u.on("click",t.ref.handleSelect),t.ref.buttonSelectItem=n.appendChildView(u)}else{var E=n.element.querySelector(".filepond--file-info-main"),m=document.createElement("button");m.className="filepond--action-select-item-alt",m.innerHTML=d+"<span>select</span>",m.addEventListener("click",t.ref.handleSelect),E.appendChild(m),t.ref.selectButton=m}}}}};if(l){f.DID_IMAGE_PREVIEW_SHOW=function(e){var t=e.root;t.ref.buttonSelectItem&&(t.ref.buttonSelectItem.opacity=1)}}n.registerWriter(o(f))}}),{options:{allowImageSelect:[!0,l.BOOLEAN],selectImageButtonTitle:["Select image",l.STRING],selectImageButtonPosition:["bottom center",l.STRING],selectImageButtonIcon:['<svg viewBox="64 64 896 896" data-icon="select" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 0 0-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"></path></svg>',l.STRING],selectCallback:[null,l.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});
