/*!
 * FilePondPluginSelectImageButton 0.0.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FilePondPluginSelectImageButton=t()}(this,function(){"use strict";var e=function(e){var t=e.addFilter,i=e.utils,n=e.views,c=i.Type,o=i.createRoute,l=n.fileActionButton;return t("CREATE_VIEW",function(e){var t,i,n=e.is,c=e.view,a=e.query,d=a("GET_ALLOW_IMAGE_PREVIEW"),r=a("GET_ALLOW_IMAGE_SELECT"),s=a("GET_SELECT_CALLBACK"),f=a("GET_SELECT_IMAGE_BUTTON_ICON");if(r&&(n("file-info")&&!d||n("file")&&d)){var u={DID_LOAD_ITEM:function(e){var n=e.root,o=e.props.id,r=a("GET_ITEM",o);if(r&&function(e){return/^image/.test(e.type)}(r.file)){n.ref.handleSelect=function(e){document.dispatchEvent(new CustomEvent("FilePond:checkimage",{fileId:o,e:e})),n.ref.buttonSelectItem.opacity=0,n.ref.buttonCheckItem.opacity=1,n.dispatch("KICK"),e.stopPropagation(),s(r.serverId)},n.ref.handleUnselect=function(e){n.ref.buttonSelectItem.opacity=1,n.ref.buttonCheckItem.opacity=0,n.dispatch("KICK"),e.stopPropagation(),s(r.serverId)},document.addEventListener("FilePond:checkimage",function(e){var t=e.fileId,i=e.e;t!==o&&n.ref.handleUnselect(i)});var u=a("GET_SELECT_IMAGE_BUTTON_POSITION");d&&((t=c.createChildView(l,{label:"select",icon:f,opacity:0})).element.classList.add("filepond--action-select-item"),t.element.dataset.align=u,t.element.title=a("GET_SELECT_IMAGE_BUTTON_TITLE"),t.on("click",n.ref.handleSelect),n.ref.buttonSelectItem=c.appendChildView(t),(i=c.createChildView(l,{label:"unselect",icon:'<svg viewBox="64 64 896 896" data-icon="check" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"></path></svg>',opacity:0})).element.classList.add("filepond--action-check-item"),i.element.dataset.align=u,i.element.title=a("GET_SELECT_IMAGE_BUTTON_TITLE"),i.on("click",n.ref.handleUnselect),n.ref.buttonCheckItem=c.appendChildView(i))}}};if(d){u.DID_IMAGE_PREVIEW_SHOW=function(e){var t=e.root;t.ref.buttonSelectItem&&(t.ref.buttonSelectItem.opacity=1,t.ref.buttonCheckItem.opacity=0)}}c.registerWriter(o(u))}}),{options:{allowImageSelect:[!0,c.BOOLEAN],selectImageButtonTitle:["Select image",c.STRING],selectImageButtonPosition:["bottom center",c.STRING],selectImageButtonIcon:['<svg viewBox="64 64 896 896" data-icon="select" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 0 0-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"></path></svg>',c.STRING],selectCallback:[null,c.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});
