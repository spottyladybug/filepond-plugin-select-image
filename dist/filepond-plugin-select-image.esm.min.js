/*!
 * FilePondPluginSelectImageButton 0.0.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

const e=e=>{const{addFilter:t,utils:l,views:n}=e,{Type:c,createRoute:o}=l,{fileActionButton:i}=n;return t("CREATE_VIEW",e=>{const{is:t,view:l,query:n}=e,c=n("GET_ALLOW_IMAGE_PREVIEW"),r=n("GET_ALLOW_IMAGE_SELECT"),a=n("GET_SELECT_CALLBACK");if(!r)return;if(!(t("file-info")&&!c||t("file")&&c))return;l.registerDestroyer(({root:e})=>{e.ref.buttonSelectItem&&e.ref.buttonSelectItem.off("click",e.ref.handleSelect),e.ref.selectButton&&e.ref.selectButton.removeEventListener("click",e.ref.handleSelect)});const s={DID_LOAD_ITEM:({root:e,props:t})=>{const{id:o}=t,r=n("GET_ITEM",o);if(!r)return;const s=r.file;if(!(e=>/^image/.test(e.type))(s))return;e.ref.handleSelect=(e=>{e.stopPropagation(),a(s)});const d=n("GET_SELECT_IMAGE_BUTTON_ICON"),E=n("GET_SELECT_IMAGE_BUTTON_POSITION");if(c){const t=l.createChildView(i,{label:"select",icon:d,opacity:0});t.element.classList.add("filepond--action-select-item"),t.element.dataset.align=E,t.element.title=n("GET_SELECT_IMAGE_BUTTON_TITLE"),t.on("click",e.ref.handleSelect),e.ref.buttonSelectItem=l.appendChildView(t)}else{const t=l.element.querySelector(".filepond--file-info-main"),n=document.createElement("button");n.className="filepond--action-select-item-alt",n.innerHTML=d+"<span>select</span>",n.addEventListener("click",e.ref.handleSelect),t.appendChild(n),e.ref.selectButton=n}}};if(c){const e=({root:e})=>{e.ref.buttonSelectItem&&(e.ref.buttonSelectItem.opacity=1)};s.DID_IMAGE_PREVIEW_SHOW=e}l.registerWriter(o(s))}),{options:{allowImageSelect:[!0,c.BOOLEAN],selectImageButtonTitle:["Select image",c.STRING],selectImageButtonPosition:["bottom center",c.STRING],selectImageButtonIcon:['<svg viewBox="64 64 896 896" data-icon="select" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 0 0-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"></path></svg>',c.STRING],selectCallback:[null,c.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}));export default e;
